(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,n){},131:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),i=n(22),l=n(29),s=n(67),u=n(8),m=n(9),h=n(11),p=n(10),g=n(12),d=n(31),f=n(23),E=n(24),b=n.n(E),v=n(25),y=n.n(v),O=n(20),j=n.n(O),k=n(42),w=n.n(k),L="http://localhost:8080/sky/event";function I(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function C(e,t,n,a,r){r=r||"customEvent";var o=I(a);return w.a.post("".concat(L,"/").concat(e,"/").concat(r,"/").concat(t,"/").concat(n,"?").concat(o))}var S="KpDEHSGj8oRiEfmNWf5Bfq",_="LOGIN_REQUEST";var N="LOGIN_RESPONSE";function x(e,t){return function(n){return n(function(e,t){return{type:_,username:e,password:t}}(e,t)),C(S,"user","login",{username:e,password:t},"fhir_client").then(function(e){return n(function(e){return{type:N,response:e.data.directives[0].options,receivedAt:Date.now()}}(e))},function(e){return console.log("An error occured while logging in",e)})}}var T="REGISTER_REQUEST";var U="REGISTER_RESPONSE";var A="LOGOUT";var R="AUTHORIZE_RESPONSE";function z(){return function(e){return C(S,"user","authorize",{auth_token:localStorage.getItem("auth_token")},"fhir_client").then(function(t){200===t.data.directives[0].options.status_code&&e(function(e){return{type:U,response:e.data.directives[0].options,receivedAt:Date.now()}}(t))},function(e){return console.log("Could not authorize the user",e)})}}var G=n(68),P=n.n(G),B=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onLogout=function(){return n.props.logout(n.props.currentUser),r.a.createElement(f.a,{to:"/home"})},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,n=e.history,a=e.location;return r.a.createElement(b.a,{bg:"dark",variant:"dark",expand:"sm",fixed:"top"},r.a.createElement(b.a.Brand,null,r.a.createElement("img",{onClick:function(){return t?n.push("/connections"):n.push("/home")},src:P.a,height:"50px",width:"50px",alt:"Sovrin Logo"})),r.a.createElement(y.a,{activeKey:a.pathname,onSelect:function(e){return n.push(e)},className:"mr-auto"},!t&&r.a.createElement(y.a.Link,{eventKey:"/home"},"Home"),t&&r.a.createElement(y.a.Link,{eventKey:"/connections"},"My Connections")),r.a.createElement(y.a,{activeKey:a.pathname,onSelect:function(e){return n.push(e)},className:"justify-content-end"},!t&&r.a.createElement(y.a.Link,{eventKey:"/login"},"Login"),!t&&r.a.createElement(y.a.Link,{eventKey:"/register"},"Register"),t&&r.a.createElement(d.b,{to:"/home"},r.a.createElement(j.a,{variant:"outline-warning",onClick:this.onLogout},"Logout"))))}}]),t}(r.a.Component),F=Object(i.b)(function(e){return{isLoggedIn:e.isLoggedIn,currentUser:e.currentUser}},function(e){return{logout:function(t){e(function(e){return function(t){return C(S,"user","logout",{username:e},"fhir_client").then(function(e){return t({type:A})},function(e){return console.log("A problem happened while logging out",e)})}}(t))}}})(Object(f.f)(B)),M=n(28),D=n.n(M),K=n(37),H=n.n(K),W=n(71),q=n.n(W),J=n(33),Q=n.n(J),X=n(70),V=n.n(X),Z=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement(Q.a,null,r.a.createElement("h5",null,"Interested in Learning More? Contact Us")),r.a.createElement(q.a,null,r.a.createElement(Q.a,null,r.a.createElement("h6",null,"Matthew Norton"),r.a.createElement("a",{href:"https://www.linkedin.com/in/matt-norton"},r.a.createElement("i",{className:"fa fa-linkedin-square"}))," ",r.a.createElement("a",{href:"mailto:matthewnorton15@gmail.com"},r.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}))),r.a.createElement(Q.a,null,r.a.createElement("h6",null,"Michael Black"),r.a.createElement("a",{href:"https://www.linkedin.com/in/michaelblack117"},r.a.createElement("i",{className:"fa fa-linkedin-square"}))," ",r.a.createElement("a",{href:"mailto:michaelblack117@gmail.com"},r.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"})))),r.a.createElement(b.a,{className:"justify-content-center",sticky:"bottom"},r.a.createElement(b.a.Brand,{href:"https://sovrin.org"},r.a.createElement("img",{src:"https://sovrin.org/wp-content/themes/sovrin/assets/images/logo.svg",height:"30px",alt:"Sovrin Logo"})),r.a.createElement(b.a.Brand,{href:"https://picolabs.io"},r.a.createElement("img",{src:V.a,height:"30px",alt:"PicoLabs Logo"}))))},Y=n(72),$=n.n(Y),ee=(n(130),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(D.a,{style:{position:"absolute",zIndex:"-10",opacity:".2"},src:$.a,fluid:!0}),r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Welcome to the FHIR Agency!"),r.a.createElement("p",null,"Keep your medical and personal records safe with your FHIR Agent"),r.a.createElement(j.a,{href:"#learn",variant:"primary",size:"lg"},"Learn More"),"   "),r.a.createElement("div",{id:"learn",className:"content"},r.a.createElement(H.a,{style:{backgroundColor:"#f49315",marginBottom:"0"}},r.a.createElement("h2",null,"What is an Agent?"),r.a.createElement("p",null,"An agent is blah blah blah"),r.a.createElement("p",null,"An agent does blah blah blah"),r.a.createElement(j.a,{href:"./register",variant:"outline-light",size:"lg"},"Get An Agent")),r.a.createElement(H.a,{style:{marginBottom:"0"}},r.a.createElement("h2",null,"How do Agents work?")),r.a.createElement(H.a,{style:{backgroundColor:"#343a40",color:"white",marginBottom:"0"}},r.a.createElement("h2",null,"Why should I have an Agent?"))),r.a.createElement(Z,null))}}]),t}(r.a.Component)),te=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.isLoggedIn||this.props.authorize()}},{key:"render",value:function(){var e=this.props.isLoggedIn;return r.a.createElement("div",null,e&&r.a.createElement("div",null,"My Connections"),!e&&r.a.createElement("div",null,"Not Authorized"))}}]),t}(r.a.Component),ne=Object(i.b)(function(e){return{currentUser:e.currentUser,isLoggedIn:e.isLoggedIn}},function(e){return{authorize:function(){e(z())}}})(te),ae=n(36),re=n(7),oe=n.n(re),ce=(n(131),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(ae.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.login(n.state.email,n.state.password)},n.state={email:"",password:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(oe.a.Group,{controlId:"email"},r.a.createElement(oe.a.Label,null,"Email"),r.a.createElement(oe.a.Control,{autoFocus:!0,type:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(oe.a.Group,{controlId:"password"},r.a.createElement(oe.a.Label,null,"Password"),r.a.createElement(oe.a.Control,{value:this.state.password,onChange:this.handleChange,type:"password"})),r.a.createElement(j.a,{block:!0,size:"lg",disabled:!this.validateForm(),type:"submit"},"Login")))}}]),t}(r.a.Component)),ie=Object(i.b)(function(e){return{isLoggedIn:e.isLoggedIn,currentUser:e.currentUser}},function(e){return{login:function(t,n){e(x(t,n))}}})(ce),le=n(73),se=n.n(le),ue=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"renderLogin",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{style:{position:"absolute",zIndex:"-10",opacity:".2"},src:se.a,fluid:!0}),r.a.createElement(ie,null))}},{key:"renderConnections",value:function(){return r.a.createElement(f.a,{to:"/connections"})}},{key:"render",value:function(){var e=this.props.isLoggedIn;return r.a.createElement("div",null,!e&&this.renderLogin(),e&&this.renderConnections())}}]),t}(r.a.Component),me=Object(i.b)(function(e){return{isLoggedIn:e.isLoggedIn}})(ue),he=(n(139),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(ae.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){(e.preventDefault(),n.validateForm())&&C(S,"user","register",{username:n.state.email,password:n.state.password,agentType:n.state.agentType},"fhir_agent_register").then(function(e){var t=e.data.directives[0].options;console.log(e.data),200===t.status_code?localStorage.setItem("auth_token",t.auth_token):console.error(t.message)})},n.state={email:"",password:"",agentType:""},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.agentType.length>0}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password,o=t.agentType;return r.a.createElement("div",{className:"Register"},r.a.createElement(oe.a,{onSubmit:this.handleSubmit},r.a.createElement(oe.a.Group,{controlId:"email"},r.a.createElement(oe.a.Label,null,"Email"),r.a.createElement(oe.a.Control,{autoFocus:!0,type:"email",value:n,onChange:this.handleChange})),r.a.createElement(oe.a.Group,{controlId:"password"},r.a.createElement(oe.a.Label,null,"Password"),r.a.createElement(oe.a.Control,{value:a,onChange:this.handleChange,type:"password"})),r.a.createElement(oe.a.Group,{className:"radioButtonGroup"},r.a.createElement(oe.a.Label,null,"Are you a Patient or Practitioner?"),r.a.createElement(j.a,{size:"lg",variant:"patient"===o?"primary":"secondary",onClick:function(){e.setState({agentType:"patient"})}},"Patient"),"   ",r.a.createElement(j.a,{size:"lg",variant:"practitioner"===o?"primary":"secondary",onClick:function(){e.setState({agentType:"practitioner"})}},"Practitioner")),r.a.createElement(j.a,{block:!0,size:"lg",disabled:!this.validateForm(),type:"submit"},"Create My Agent")))}}]),t}(r.a.Component)),pe=n(74),ge=n.n(pe),de=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{style:{position:"absolute",zIndex:"-10",opacity:".2"},src:ge.a,fluid:!0}),r.a.createElement(he,null))}}]),t}(r.a.Component),fe=(n(140),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(F,null),r.a.createElement("div",{className:"page"},r.a.createElement(f.b,{exact:!0,path:"/",component:ee}),r.a.createElement(f.b,{exact:!0,path:"/home",component:ee}),r.a.createElement(f.b,{exact:!0,path:"/connections",component:ne}),r.a.createElement(f.b,{exact:!0,path:"/login",component:me}),r.a.createElement(f.b,{exact:!0,path:"/register",component:de})))}}]),t}(r.a.Component)),Ee={isLoggedIn:!1,currentUser:"",authToken:{value:"",active:!1}};var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object.assign({},e,{currentUser:t.username});case N:return localStorage.setItem("auth_token",t.response.auth_token),Object.assign({},e,{isLoggedIn:!0,authToken:{value:t.response.auth_token,active:!0}});case T:return Object.assign({},e,{currentUser:t.username});case U:return localStorage.setItem("auth_token",t.response.auth_token),Object.assign({},e,{isLoggedIn:!0,authToken:{value:t.response.auth_token,active:!0}});case R:return Object.assign({},e,{currentUser:t.response.username,isLoggedIn:!0,authToken:{value:t.response.auth_token,active:!0}});case A:default:return Ee}},ve=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c)(Object(l.a)(s.a)),ye=Object(l.d)(be,Ee,ve);c.a.render(r.a.createElement(i.a,{store:ye},r.a.createElement(fe,null)),document.getElementById("root"))},68:function(e,t,n){e.exports=n.p+"static/media/fhir-agent-logo.8c82094e.svg"},70:function(e,t,n){e.exports=n.p+"static/media/pico-labs-logo.f5fbdf31.png"},72:function(e,t,n){e.exports=n.p+"static/media/bright-cardiac-cardiology.fe8b01fd.jpg"},73:function(e,t,n){e.exports=n.p+"static/media/login-fingerprint.e06a88ce.jpg"},74:function(e,t,n){e.exports=n.p+"static/media/registration-clipboard.79e2cb2e.jpg"},75:function(e,t,n){e.exports=n(141)}},[[75,1,2]]]);
//# sourceMappingURL=main.c334509e.chunk.js.map